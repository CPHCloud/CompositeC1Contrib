<?xml version="1.0" standalone="yes"?>
<mi:PackageInstaller xmlns:mi="http://www.composite.net/ns/management/packageinstaller/1.0">
  <mi:PackageRequirements minimumCompositeVersion="4.2.5249.32246"
                          maximumCompositeVersion="9.9999.9999.9999" />

  <mi:PackageInformation name="CompositeC1Contrib.DownloadFoldersAsZip"
                         groupName="CompositeC1Contrib"
                         version="1.1.3" author="@burningice" website="https://github.com/burningice2866/CompositeC1Contrib/tree/master/DownloadFoldersAsZip"
                         readMoreUrl="https://github.com/burningice2866/CompositeC1Contrib/tree/master/DownloadFoldersAsZip"
                         id="b7bb2faa-8833-4e6e-9b15-c7e74406eff8"
                         canBeUninstalled="true"
                         systemLocking="hard"
                         flushOnCompletion="false">
    <Description>Enables downloading of folders from Media Archives or Filesystem via context menu in the Console.</Description>
    <TechnicalDetails>Enables downloading of folders from Media Archives or Filesystem via context menu in the Console.</TechnicalDetails>
  </mi:PackageInformation>

  <mi:PackageFragmentInstallers>
    <mi:Add installerType="Composite.Core.PackageSystem.PackageFragmentInstallers.FilePackageFragmentInstaller, Composite" uninstallerType="Composite.Core.PackageSystem.PackageFragmentInstallers.FilePackageFragmentUninstaller, Composite">
      <Files>
        <File sourceFilename="~\Bin\CompositeC1Contrib.DownloadFoldersAsZip.dll" targetFilename="~\Bin\CompositeC1Contrib.DownloadFoldersAsZip.dll" allowOverwrite="true" />
      </Files>

      <Directories>
        <Directory sourceDirectory="~\Content\Composite\InstalledPackages\CompositeC1Contrib.DownloadFoldersAsZip\" targetDirectory="~\Composite\InstalledPackages\CompositeC1Contrib.DownloadFoldersAsZip" allowOverwrite="true" deleteTargetDirectory="true" />
      </Directories>
    </mi:Add>

    <mi:Add installerType="Composite.Core.PackageSystem.PackageFragmentInstallers.XmlFileMergePackageFragmentInstaller, Composite" uninstallerType="Composite.Core.PackageSystem.PackageFragmentInstallers.XmlFileMergePackageFragmentUninstaller, Composite">
      <XmlFileMerges>
        <XmlFileMerge changeDefinitionPath="~\Config\App_Data\Composite\composite.config" targetFilePath="~\App_Data\Composite\composite.config" />
      </XmlFileMerges>
    </mi:Add>
  </mi:PackageFragmentInstallers>
</mi:PackageInstaller>